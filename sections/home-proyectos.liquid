<section class="twcss-relative twcss-flex twcss-items-center twcss-justify-center twcss-h-screen">
  <figure class="twcss-absolute twcss-aspect-[0.64/1] twcss-w-[75%] md:twcss-w-[32%] lg:twcss-w-[26%] max-h-[90%]">
    <div id="ags" class="bg-state twcss-absolute twcss-top-0 twcss-left-0 twcss-right-0 twcss-bottom-0 twcss-w-full twcss-h-full twcss-duration-300 twcss-transition-opacity twcss-bg-red-600 twcss-opacity-0">&nbsp;</div>
    <div id="slp" class="bg-state twcss-absolute twcss-top-0 twcss-left-0 twcss-right-0 twcss-bottom-0 twcss-w-full twcss-h-full twcss-duration-300 twcss-transition-opacity twcss-bg-orange-600 twcss-opacity-0">&nbsp;</div>
    <div id="mor" class="bg-state twcss-absolute twcss-top-0 twcss-left-0 twcss-right-0 twcss-bottom-0 twcss-w-full twcss-h-full twcss-duration-300 twcss-transition-opacity twcss-bg-amber-600 twcss-opacity-0">&nbsp;</div>
    <div id="qroo" class="bg-state twcss-absolute twcss-top-0 twcss-left-0 twcss-right-0 twcss-bottom-0 twcss-w-full twcss-h-full twcss-duration-300 twcss-transition-opacity twcss-bg-yellow-600 twcss-opacity-0">&nbsp;</div>
    <div id="mty" class="bg-state twcss-absolute twcss-top-0 twcss-left-0 twcss-right-0 twcss-bottom-0 twcss-w-full twcss-h-full twcss-duration-300 twcss-transition-opacity twcss-bg-lime-600 twcss-opacity-0">&nbsp;</div>
    <div id="gdl" class="bg-state twcss-absolute twcss-top-0 twcss-left-0 twcss-right-0 twcss-bottom-0 twcss-w-full twcss-h-full twcss-duration-300 twcss-transition-opacity twcss-bg-teal-600 twcss-opacity-0">&nbsp;</div>
    <div id="Sin" class="bg-state twcss-absolute twcss-top-0 twcss-left-0 twcss-right-0 twcss-bottom-0 twcss-w-full twcss-h-full twcss-duration-300 twcss-transition-opacity twcss-bg-indigo-600 twcss-opacity-0">&nbsp;</div>
    <div id="qro" class="bg-state twcss-absolute twcss-top-0 twcss-left-0 twcss-right-0 twcss-bottom-0 twcss-w-full twcss-h-full twcss-duration-300 twcss-transition-opacity twcss-bg-indigo-600 twcss-opacity-0">&nbsp;</div>
  </figure>
  <div class="swiper swiperProyectos twcss-relative twcss-z-10">
    <div class="swiper-wrapper">
      <div
        class="swiper-slide twcss-text-center twcss-text-6xl twcss-font-bebasneue twcss-text-black twcss-py-16 twcss-cursor-grab active:twcss-cursor-grabbing twcss-duration-150 twcss-transition-opacity twcss-opacity-35"
        data-img="ags">
        Aguascalientes
      </div>
      <div
        class="swiper-slide twcss-text-center twcss-text-6xl twcss-font-bebasneue twcss-text-black twcss-py-16 twcss-cursor-grab active:twcss-cursor-grabbing twcss-duration-150 twcss-transition-opacity twcss-opacity-35"
        data-img="slp">
        San Luis Potosí
      </div>
      <div
        class="swiper-slide twcss-text-center twcss-text-6xl twcss-font-bebasneue twcss-text-black twcss-py-16 twcss-cursor-grab active:twcss-cursor-grabbing twcss-duration-150 twcss-transition-opacity twcss-opacity-35"
        data-img="mor">
        Morelos
      </div>
      <div
        class="swiper-slide twcss-text-center twcss-text-6xl twcss-font-bebasneue twcss-text-black twcss-py-16 twcss-cursor-grab active:twcss-cursor-grabbing twcss-duration-150 twcss-transition-opacity twcss-opacity-35"
        data-img="qroo">
        Quinata Roo
      </div>
      <div
        class="swiper-slide twcss-text-center twcss-text-6xl twcss-font-bebasneue twcss-text-black twcss-py-16 twcss-cursor-grab active:twcss-cursor-grabbing twcss-duration-150 twcss-transition-opacity twcss-opacity-35"
        data-img="mty">
        Monterrey
      </div>
      <div
        class="swiper-slide twcss-text-center twcss-text-6xl twcss-font-bebasneue twcss-text-black twcss-py-16 twcss-cursor-grab active:twcss-cursor-grabbing twcss-duration-150 twcss-transition-opacity twcss-opacity-35"
        data-img="gdl">
        Guadalajara
      </div>
      <div
        class="swiper-slide twcss-text-center twcss-text-6xl twcss-font-bebasneue twcss-text-black twcss-py-16 twcss-cursor-grab active:twcss-cursor-grabbing twcss-duration-150 twcss-transition-opacity twcss-opacity-35"
        data-img="Sin">
        Sinaloa
      </div>
      <div
        class="swiper-slide twcss-text-center twcss-text-6xl twcss-font-bebasneue twcss-text-black twcss-py-16 twcss-cursor-grab active:twcss-cursor-grabbing twcss-duration-150 twcss-transition-opacity twcss-opacity-35"
        data-img="qro">
        Querérato
      </div>
    </div>
  </div>
</section>
{% schema %}
  {
    "name": "Proyectos",
    "disabled_on": {
      "groups": ["header", "footer"]
    },
    "settings": [],
    "max_blocks": 8,
    "blocks": [
      {
        "name": "Experience",
        "type": "title",
        "settings": [
          {
            "type": "text",
            "id": "text",
            "label": "Text"
          },
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "slider-proyectos"
      }
    ]
  }
{% endschema %}
{% style %}
  .swiper-slide.swiper-slide-active {
    opacity: 100;
  }
{% endstyle %}
{% javascript %}
document.addEventListener('DOMContentLoaded', function() {

  const imagesProyectos = document.querySelectorAll(".bg-state");

  console.log(imagesProyectos);

  const swiperProyectos = new Swiper(".swiperProyectos", {
    slidesPerView: 1,
    centeredSlides: true,
    loop: true,
    breakpoints: {
      768: {
        slidesPerView: 3
      },
      1280: {
        slidesPerView: 5
      },
    },
    on: {
      init: function () {
        imagesProyectos[0].classList.add("twcss-opacity-100");
        imagesProyectos[0].classList.remove("twcss-opacity-0");
      },
      realIndexChange: function () {
        let index = this.realIndex; // Adjusted index to match the zero-based indexing
        imagesProyectos.forEach((image, i) => {
          if (i === index) {
            image.classList.add("twcss-opacity-100");
            image.classList.remove("twcss-opacity-0");
          } else {
            image.classList.remove("twcss-opacity-100");
            image.classList.add("twcss-opacity-0");
          }
        });
      },
    }
  });
});
{% endjavascript %}